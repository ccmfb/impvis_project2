<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Overview - Common Mistakes and Corrective Steps</title>
</head>
<body>
    <div style="position:fixed; left: 18vw; bottom: 3vw; font-size: 1.5vw;"><a href="question2.html">< Prev </a>  </div>
    <div style="position:fixed; right: 3vw; bottom: 3vw; font-size: 1.5vw;"><a href="question4.html">Next ></a>  </div>
    <div style="position:fixed; right: 3vw; bottom: 6vw; font-size: 1.5vw;"><label class="submit-button">Check</label></div>
    <div id="divider" style="width:10%;">
      <div style="width:16%; background: white; color:black;" id="menu">
        <div id="title"> <a href="index.html" style="color:white;">PCR Analysis</a></div>
        <div class="section">
          Common Mistakes <br>
          <a href="main1.html">Overview</a><br>
          <a href="question1.html">Question 1</a><br>
          <a href="question2.html">Question 2</a><br>
          <a href="question3.html">Question 3</a><br>
          <a href="question4.html">Question 4</a><br>
          <a href="question5.html">Question 5</a><br>
          <a href="question6.html">Question 6</a><br>
          <a href="question7.html">Question 7</a><br>
          <a href="summary.html">Summary</a><br>
        </div>
      </div>
    </div>
  
    <div id="main">
        <h1>Common Mistakes in qPCR and Corrective Steps</h1>
        <h2 id="section1">Question 3: There are unexpected data values
          <hr class="title-line" align = "left">
        </h2>
      
        <div class = "multiple-choice" id="multiple-choice">
            <div class="mc mc1">
                <div class="question">
                <img style="position:relative; top:0.5vw;" src="graph_q3.png" alt="Graph Q1">
                <p style="font-size:1.25vw">
                    Potential Causes:

                    <ul>
                        <li>The plate has beed inserted backwards</li>
                        <li>There is a poor specificity of the primers</li>
                        <li>There are inhibitors in the sample</li>
                        <li>The samples are labelled incorrectly</li>
                    </ul>
                </p>
                </div>
                <div class="answers">
                    <p><strong>Select all corrective steps (3):</strong></p>

                    <input id="q1-1" type="checkbox" name="q1">
                    <label for="q1-1" class="answer-label" data-value="1">
                        The primers are re-designed to increase the specificity
                    </label>
                    <br>
                    <input id="q1-2" type="checkbox" name="q1">
                    <label for="q1-2" class="answer-label" data-value="2">
                        The samples or plate should be re-run with extra caution whilst loading
                    </label>
                    <br>
                    <input id="q1-3" type="checkbox" name="q1">
                    <label for="q1-3" class="answer-label" data-value="3">
                        Optimise the annealing temperature
                    </label>
                    <br>
                    <input id="q1-4" type="checkbox" name="q1">
                    <label for="q1-4" class="answer-label" data-value="4">
                        A dilution of th samples should be run. The inhibitors will be diluted out and may result in a lower Cq for the diluted material.
                    </label>
                    <br>
                    <input id="q1-5" type="checkbox" name="q1">
                    <label for="q1-5" class="answer-label" data-value="5">
                        Use a different type of primer and repeat the experiment
                    </label>
                    <br>
                    <input id="q1-6" type="checkbox" name="q1">
                    <label for="q1-6" class="answer-label" data-value="6">
                        Calibrate the pipettes
                    </label>
                    <br>

                </div>
            </div>
        </div>

    </div>
</body>
<script>
    const answerLabels = document.querySelectorAll('.answer-label');
    // change the background color of the label to blue when clicked
    answerLabels.forEach(label => {
    label.addEventListener('click', function() {
        this.style.backgroundColor = 'blue';
    });
    });

    const submitButton = document.querySelector('.submit-button');
    submitButton.addEventListener('click', function() {
    // get all the selected answers
    const selectedAnswers = document.querySelectorAll('input:checked');
    // get the correct answers
    const correctAnswers = [1,2,4];
    // check if the selected answers match the correct answers
    let isCorrect = true;
    selectedAnswers.forEach(answer => {
        if (!correctAnswers.includes(Number(answer.getAttribute('data-value')))) {
        isCorrect = false;
        }
    });

    // update the background color of the labels to
    // green if the answer is correct and red if the answer is incorrect
    answerLabels.forEach(label => {
        const value = Number(label.getAttribute('data-value'));
        const input = label.previousElementSibling;
        if (input.checked && correctAnswers.includes(value)) {
        label.style.backgroundColor = 'green';
        } else if (input.checked) {
        label.style.backgroundColor = 'red';
        }
    });
    });

</script>

</html>